window.url=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){return decodeURIComponent(t.replace(/\+/g," "))}return function(n,e){var i=e||window.location.toString();if(!n)return i;n=n.toString(),"//"===i.substring(0,2)?i="http:"+i:1===i.split("://").length&&(i="http://"+i),e=i.split("/");var s={auth:""},l=e[2].split("@");1===l.length?l=l[0].split(":"):(s.auth=l[0],l=l[1].split(":")),s.protocol=e[0],s.hostname=l[0],s.port=l[1]||("https"===s.protocol.split(":")[0].toLowerCase()?"443":"80"),s.pathname=(e.length>3?"/":"")+e.slice(3,e.length).join("/").split("?")[0].split("#")[0];var u=s.pathname;"/"===u.charAt(u.length-1)&&(u=u.substring(0,u.length-1));var o=s.hostname,a=o.split("."),p=u.split("/");if("hostname"===n)return o;if("domain"===n)return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(o)?o:a.slice(-2).join(".");if("sub"===n)return a.slice(0,a.length-2).join(".");if("port"===n)return s.port;if("protocol"===n)return s.protocol.split(":")[0];if("auth"===n)return s.auth;if("user"===n)return s.auth.split(":")[0];if("pass"===n)return s.auth.split(":")[1]||"";if("path"===n)return s.pathname;if("."===n.charAt(0)){if(n=n.substring(1),t(n))return n=parseInt(n,10),a[0>n?a.length+n:n-1]||""}else{if(t(n))return n=parseInt(n,10),p[0>n?p.length+n:n]||"";if("file"===n)return p.slice(-1)[0];if("filename"===n)return p.slice(-1)[0].split(".")[0];if("fileext"===n)return p.slice(-1)[0].split(".")[1]||"";if("?"===n.charAt(0)||"#"===n.charAt(0)){var h=i;if("?"===n.charAt(0)?h=(h.split("?")[1]||"").split("#")[0]:"#"===n.charAt(0)&&(h=h.split("#")[1]||""),!n.charAt(1))return h?r(h):h;n=n.substring(1),h=h.split("&");for(var f=0,c=h.length;c>f;f++){var g=h[f].indexOf("="),d=h[f].substring(0,g),m=h[f].substr(g+1);if(d===n)return(m?r(m):m)||""}return null}}return""}}(),"undefined"!=typeof jQuery&&jQuery.extend({url:function(t,r){return window.url(t,r)}});